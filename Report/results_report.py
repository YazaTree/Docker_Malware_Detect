from pymongo import MongoClient
from reportlab.pdfgen import canvas

#MongoDB 연결 설정
client = MongoClient('mongoDB 주소')
db = client['DB명']
collection = db['collection명']

#PDF 생성 함수
def create_pdf(data):
    pdf_path = 'output.pdf' #생성할 PDF 파일 경로

    #기타 설정
    c = canvas.Canvas(pdf_path)
    c.setFont("맑은 고딕", 12)

    #데이터로 PDF에 내용 추가
    for item in data:
        c.drawString(100, 700, f"제목: {item['title']}")
        c.drawString(100, 680, f"내용: {item['content']}")
        c.showPage() #페이지 추가

    c.save() #PDF 저장
    print(f"PDF 파일이 생성되었습니다: {pdf_path}")

#MongoDB에서 데이터 가져오기
data = collection.find({}) #쿼리에 조건 추가해서 데이터 가져오기 가능

#PDF 생성
create_pdf(data)
